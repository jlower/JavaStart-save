<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>UDPÍøÂç±à³Ì.html</title>
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
body {
  margin: 15px 23px 15px 23px;
  background-color: #ffffff;
}
/* ========== Text Styles ========== */
hr { color: #000000}
body, table, span.rvts0 /* Normal text */
{
 font-size: 9pt;
 font-family: 'ËÎÌå';
 font-style: normal;
 font-weight: normal;
 color: #000000;
 text-decoration: none;
}
a.rvts1, span.rvts1 /* Hyperlink */
{
 color: #0000ff;
 text-decoration: underline;
}
span.rvts2
{
 font-size: 15pt;
 font-family: 'Consolas';
 color: #000000;
}
span.rvts3
{
 font-size: 15pt;
 font-family: 'Consolas';
 font-style: italic;
 color: #008017;
}
span.rvts4
{
 font-size: 15pt;
 font-family: '??';
 font-style: italic;
 color: #008017;
}
span.rvts5
{
 font-size: 15pt;
 font-family: 'Consolas';
 color: #808000;
}
span.rvts6
{
 font-size: 15pt;
 font-family: 'Consolas';
 font-weight: bold;
 color: #000080;
}
span.rvts7
{
 font-size: 15pt;
 font-family: 'Consolas';
 font-weight: bold;
 color: #008000;
}
span.rvts8
{
 font-size: 15pt;
 font-family: '??';
 font-weight: bold;
 color: #008000;
}
span.rvts9
{
 font-size: 15pt;
 font-family: 'Consolas';
 font-style: italic;
 color: #000000;
}
span.rvts10
{
 font-size: 15pt;
 font-family: 'Consolas';
 color: #0000ff;
}
span.rvts11
{
 font-size: 15pt;
 font-family: 'Consolas';
 font-weight: bold;
 color: #660e7a;
}
span.rvts12
{
 font-size: 15pt;
 font-family: 'Consolas';
 font-style: italic;
 font-weight: bold;
 color: #660e7a;
}
span.rvts13
{
 font-size: 12pt;
 font-weight: bold;
 color: #000000;
}
/* ========== Para Styles ========== */
p,ul,ol /* Paragraph Style */
{
 text-align: left;
 text-indent: 0px;
 padding: 0px 0px 0px 0px;
 margin: 0px 0px 0px 0px;
}
.rvps1 /* Centered */
{
 text-align: center;
}
.rvps2
{
 background: #ffffff;
}
/* ========== Lists ========== */
.list0 {text-indent: 0px; margin-left: 0px; list-style-position: outside; list-style-type: disc;}
--></style>
</head>
<body>
<p class=rvps1><span class=rvts13>UDP&#32593;&#32476;&#32534;&#31243;</span></p>
<p><span class=rvts13><br></span></p>
<p><span class=rvts2>&#20195;&#30721;&#31034;&#20363;&#65306;</span></p>
<p><span class=rvts2><br></span></p>
<p class=rvps2><span class=rvts3>//</span><span class=rvts4>&#21457;&#36865;&#31471;</span><br><span class=rvts5>@Test</span><br><span class=rvts6>public void </span><span class=rvts2>sender() </span><span class=rvts6>throws </span><span class=rvts2>IOException {</span><br><span class=rvts2></span><br><span class=rvts2> &nbsp; &nbsp;DatagramSocket socket = </span><span class=rvts6>new </span><span class=rvts2>DatagramSocket();</span><br><span class=rvts2></span><br><span class=rvts2></span><br><span class=rvts2></span><br><span class=rvts2> &nbsp; &nbsp;String str = </span><span class=rvts7>"</span><span class=rvts8>&#25105;&#26159;</span><span class=rvts7>UDP</span><span class=rvts8>&#26041;&#24335;&#21457;&#36865;&#30340;&#23548;&#24377;</span><span class=rvts7>"</span><span class=rvts2>;</span><br><span class=rvts2> &nbsp; &nbsp;</span><span class=rvts6>byte</span><span class=rvts2>[] data = str.getBytes();</span><br><span class=rvts2> &nbsp; &nbsp;InetAddress inet = InetAddress.</span><span class=rvts9>getLocalHost</span><span class=rvts2>();</span><br><span class=rvts2> &nbsp; &nbsp;DatagramPacket packet = </span><span class=rvts6>new </span><span class=rvts2>DatagramPacket(data,</span><span class=rvts10>0</span><span class=rvts2>,data.</span><span class=rvts11>length</span><span class=rvts2>,inet,</span><span class=rvts10>9090</span><span class=rvts2>);</span><br><span class=rvts2></span><br><span class=rvts2> &nbsp; &nbsp;socket.send(packet);</span><br><span class=rvts2></span><br><span class=rvts2> &nbsp; &nbsp;socket.close();</span><br><span class=rvts2></span><br><span class=rvts2>}</span><br><span class=rvts3>//</span><span class=rvts4>&#25509;&#25910;&#31471;</span><br><span class=rvts5>@Test</span><br><span class=rvts6>public void </span><span class=rvts2>receiver() </span><span class=rvts6>throws </span><span class=rvts2>IOException {</span><br><span class=rvts2></span><br><span class=rvts2> &nbsp; &nbsp;DatagramSocket socket = </span><span class=rvts6>new </span><span class=rvts2>DatagramSocket(</span><span class=rvts10>9090</span><span class=rvts2>);</span><br><span class=rvts2></span><br><span class=rvts2> &nbsp; &nbsp;</span><span class=rvts6>byte</span><span class=rvts2>[] buffer = </span><span class=rvts6>new byte</span><span class=rvts2>[</span><span class=rvts10>100</span><span class=rvts2>];</span><br><span class=rvts2> &nbsp; &nbsp;DatagramPacket packet = </span><span class=rvts6>new </span><span class=rvts2>DatagramPacket(buffer,</span><span class=rvts10>0</span><span class=rvts2>,buffer.</span><span class=rvts11>length</span><span class=rvts2>);</span><br><span class=rvts2></span><br><span class=rvts2> &nbsp; &nbsp;socket.receive(packet);</span><br><span class=rvts2></span><br><span class=rvts2> &nbsp; &nbsp;System.</span><span class=rvts12>out</span><span class=rvts2>.println(</span><span class=rvts6>new </span><span class=rvts2>String(packet.getData(),</span><span class=rvts10>0</span><span class=rvts2>,packet.getLength()));</span><br><span class=rvts2></span><br><span class=rvts2> &nbsp; &nbsp;socket.close();</span><br><span class=rvts2>}</span></p>
</body></html>
